/*
 * completion-latex.ts
 *
 * Copyright (C) 2022 by Posit Software, PBC
 * Copyright (c) 2016 James Yu
 *
 * Unless you have received this program directly from Posit Software pursuant
 * to the terms of a commercial license agreement with Posit Software, then
 * this program is licensed to you under the terms of version 3 of the
 * GNU Affero General Public License. This program is distributed WITHOUT
 * ANY EXPRESS OR IMPLIED WARRANTY, INCLUDING THOSE OF NON-INFRINGEMENT,
 * MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. Please refer to the
 * AGPL (http://www.gnu.org/licenses/agpl-3.0.txt) for more details.
 *
 */

// based on https://github.com/James-Yu/LaTeX-Workshop/blob/master/src/providers/completion.ts

import { Position } from "vscode-languageserver-textdocument";

import {
  CompletionContext,
  CompletionItem,
  CompletionItemKind,
  InsertTextFormat,
  Range,
} from "vscode-languageserver";

import { isLatexPosition } from "quarto-core";

interface LatexCommand {
  command: string;
  snippet?: string;
  detail?: string;
  documentation?: string;
}
const mathjaxImport = {"above":[],"abovewithdelims":[],"Aboxed":["mathtools"],"abs":["physics"],"absolutevalue":["physics"],"acomm":["physics"],"acos":["physics"],"acosecant":["physics"],"acosine":["physics"],"acot":["physics"],"acotangent":["physics"],"acsc":["physics"],"acute":[],"adjustlimits":["mathtools"],"admat":["physics"],"aleph":[],"alpha":[],"alwaysDashedLine":["bussproofs"],"alwaysNoLine":["bussproofs"],"alwaysRootAtBottom":["bussproofs"],"alwaysRootAtTop":["bussproofs"],"alwaysSingleLine":["bussproofs"],"alwaysSolidLine":["bussproofs"],"amalg":[],"And":[],"angle":[],"anticommutator":["physics"],"antidiagonalmatrix":["physics"],"approx":[],"approxeq":["ams"],"arccos":["base","physics"],"arccosecant":["physics"],"arccosine":["physics"],"arccot":["physics"],"arccotangent":["physics"],"arccsc":["physics"],"arcsec":["physics"],"arcsecant":["physics"],"arcsin":["base","physics"],"arcsine":["physics"],"arctan":["base","physics"],"arctangent":["physics"],"arg":[],"array":[],"ArrowBetweenLines":["mathtools"],"arrowvert":[],"Arrowvert":[],"asec":["physics"],"asecant":["physics"],"asin":["physics"],"asine":["physics"],"ast":[],"asymp":[],"atan":["physics"],"atangent":["physics"],"atop":[],"atopwithdelims":[],"AXC":["bussproofs"],"Axiom":["bussproofs"],"AxiomC":["bussproofs"],"backepsilon":["ams"],"backprime":["ams"],"backsim":["ams"],"backsimeq":["ams"],"backslash":[],"bar":[],"barwedge":["ams"],"Bbb":[],"Bbbk":["ams"],"bbFont":[],"bbox":["bbox"],"bcancel":["cancel"],"because":["ams"],"begin":[],"beta":[],"beth":["ams"],"between":["ams"],"bf":[],"BIC":["bussproofs"],"big":[],"Big":[],"bigcap":[],"bigcirc":[],"bigcup":[],"bigg":[],"Bigg":[],"biggl":[],"Biggl":[],"biggm":[],"Biggm":[],"biggr":[],"Biggr":[],"bigl":[],"Bigl":[],"bigm":[],"Bigm":[],"bigodot":[],"bigoplus":[],"bigotimes":[],"bigr":[],"Bigr":[],"bigsqcup":[],"bigstar":["ams"],"bigtimes":["mathtools"],"bigtriangledown":[],"bigtriangleup":[],"biguplus":[],"bigvee":[],"bigwedge":[],"BinaryInf":["bussproofs"],"BinaryInfC":["bussproofs"],"binom":["ams"],"blacklozenge":["ams"],"blacksquare":["ams"],"blacktriangle":["ams"],"blacktriangledown":["ams"],"blacktriangleleft":["ams"],"blacktriangleright":["ams"],"bmod":[],"bmqty":["physics"],"boldsymbol":["boldsymbol"],"bot":[],"bowtie":[],"Box":["ams"],"boxdot":["ams"],"boxed":["base","ams"],"boxminus":["ams"],"boxplus":["ams"],"boxtimes":["ams"],"bqty":["physics"],"Bqty":["physics"],"bra":["braket","physics"],"Bra":["braket"],"brace":[],"bracevert":[],"brack":[],"braket":["braket","physics"],"Braket":["braket"],"breve":[],"buildrel":[],"bullet":[],"bumpeq":["ams"],"Bumpeq":["ams"],"cal":[],"cancel":["cancel"],"cancelto":["cancel"],"cap":[],"Cap":["ams"],"cases":[],"cdot":[],"cdotp":[],"cdots":[],"ce":["mhchem"],"cellcolor":["colortbl"],"celsius":["gensymb"],"centercolon":["mathtools"],"centerdot":["ams"],"centernot":["centernot"],"centerOver":["centernot"],"cfrac":["ams"],"check":[],"checkmark":["ams"],"chi":[],"choose":[],"circ":[],"circeq":["ams"],"circlearrowleft":["ams"],"circlearrowright":["ams"],"circledast":["ams"],"circledcirc":["ams"],"circleddash":["ams"],"circledR":["ams"],"circledS":["ams"],"clap":["mathtools"],"class":["html"],"clubsuit":[],"colon":[],"colonapprox":["mathtools"],"Colonapprox":["mathtools"],"coloneq":["mathtools"],"Coloneq":["mathtools"],"coloneqq":["mathtools"],"Coloneqq":["mathtools"],"colonsim":["mathtools"],"Colonsim":["mathtools"],"color":["color","colorv2"],"colorbox":["color"],"columncolor":["colortbl"],"comm":["physics"],"commutator":["physics"],"complement":["ams"],"cong":[],"coprod":[],"cos":["base","physics"],"cosecant":["physics"],"cosh":["base","physics"],"cosine":["physics"],"cot":["base","physics"],"cotangent":["physics"],"coth":["base","physics"],"cp":["physics"],"cr":[],"cramped":["mathtools"],"crampedclap":["mathtools"],"crampedllap":["mathtools"],"crampedrlap":["mathtools"],"crampedsubstack":["mathtools"],"cross":["physics"],"crossproduct":["physics"],"csc":["base","physics"],"csch":["physics"],"cssId":["html"],"cup":[],"Cup":["ams"],"curl":["physics"],"curlyeqprec":["ams"],"curlyeqsucc":["ams"],"curlyvee":["ams"],"curlywedge":["ams"],"curvearrowleft":["ams"],"curvearrowright":["ams"],"dagger":[],"daleth":["ams"],"dashedLine":["bussproofs"],"dashleftarrow":["ams"],"dashrightarrow":["ams"],"dashv":[],"dbinom":["ams"],"dblcolon":["mathtools"],"dd":["physics"],"ddagger":[],"ddddot":["ams"],"dddot":["ams"],"ddot":[],"ddots":[],"DeclareMathOperator":["ams"],"DeclarePairedDelimiters":["mathtools"],"DeclarePairedDelimitersX":["mathtools"],"DeclarePairedDelimitersXPP":["mathtools"],"def":["newcommand"],"definecolor":["color"],"deg":[],"degree":["gensymb"],"delta":[],"Delta":[],"derivative":["physics"],"det":["base","physics"],"determinant":["physics"],"dfrac":["ams"],"diagdown":["ams"],"diagonalmatrix":["physics"],"diagup":["ams"],"diamond":[],"Diamond":["ams"],"diamondsuit":[],"diffd":["physics"],"differential":["physics"],"digamma":["ams"],"dim":[],"displaylines":[],"displaystyle":[],"div":["base","physics"],"divergence":["physics"],"divideontimes":["ams"],"divsymbol":[],"dmat":["physics"],"dot":[],"doteq":[],"Doteq":["ams"],"doteqdot":["ams"],"dotplus":["ams"],"dotproduct":["physics"],"dots":[],"dotsb":[],"dotsc":[],"dotsi":[],"dotsm":[],"dotso":[],"doublebarwedge":["ams"],"doublecap":["ams"],"doublecup":["ams"],"downarrow":[],"Downarrow":[],"downdownarrows":["ams"],"downharpoonleft":["ams"],"downharpoonright":["ams"],"dv":["physics"],"dyad":["physics"],"ell":[],"empheqbigl":["empheq"],"empheqbiglangle":["empheq"],"empheqbiglbrace":["empheq"],"empheqbiglbrack":["empheq"],"empheqbiglceil":["empheq"],"empheqbiglfloor":["empheq"],"empheqbiglparen":["empheq"],"empheqbiglvert":["empheq"],"empheqbiglVert":["empheq"],"empheqbigr":["empheq"],"empheqbigrangle":["empheq"],"empheqbigrbrace":["empheq"],"empheqbigrbrack":["empheq"],"empheqbigrceil":["empheq"],"empheqbigrfloor":["empheq"],"empheqbigrparen":["empheq"],"empheqbigrvert":["empheq"],"empheqbigrVert":["empheq"],"empheql":["empheq"],"empheqlangle":["empheq"],"empheqlbrace":["empheq"],"empheqlbrack":["empheq"],"empheqlceil":["empheq"],"empheqlfloor":["empheq"],"empheqlparen":["empheq"],"empheqlvert":["empheq"],"empheqlVert":["empheq"],"empheqr":["empheq"],"empheqrangle":["empheq"],"empheqrbrace":["empheq"],"empheqrbrack":["empheq"],"empheqrceil":["empheq"],"empheqrfloor":["empheq"],"empheqrparen":["empheq"],"empheqrvert":["empheq"],"empheqrVert":["empheq"],"emptyset":[],"enclose":["enclose"],"end":[],"enspace":[],"epsilon":[],"eqalign":[],"eqalignno":[],"eqcirc":["ams"],"eqcolon":["mathtools"],"Eqcolon":["mathtools"],"eqqcolon":["mathtools"],"Eqqcolon":["mathtools"],"eqref":["ams"],"eqsim":["ams"],"eqslantgtr":["ams"],"eqslantless":["ams"],"equiv":[],"erf":["physics"],"eta":[],"eth":["ams"],"ev":["physics"],"eval":["physics"],"evaluated":["physics"],"exists":[],"exp":["base","physics"],"expectationvalue":["physics"],"exponential":["physics"],"expval":["physics"],"fallingdotseq":["ams"],"fbox":[],"fCenter":["bussproofs"],"fcolorbox":["color"],"fderivative":["physics"],"fdv":["physics"],"Finv":["ams"],"flat":[],"flatfrac":["physics"],"forall":[],"frac":["base","ams"],"frak":[],"framebox":[],"frown":[],"functionalderivative":["physics"],"Game":["ams"],"gamma":[],"Gamma":[],"gcd":[],"ge":[],"genfrac":["ams"],"geq":[],"geqq":["ams"],"geqslant":["ams"],"gets":[],"gg":[],"ggg":["ams"],"gggtr":["ams"],"gimel":["ams"],"gnapprox":["ams"],"gneq":["ams"],"gneqq":["ams"],"gnsim":["ams"],"grad":["physics"],"gradient":["physics"],"gradientnabla":["physics"],"grave":[],"gt":[],"gtrapprox":["ams"],"gtrdot":["ams"],"gtreqless":["ams"],"gtreqqless":["ams"],"gtrless":["ams"],"gtrsim":["ams"],"gvertneqq":["ams"],"hat":[],"hbar":[],"hbox":[],"hdashline":[],"heartsuit":[],"hfil":[],"hfill":[],"hfilll":[],"hline":[],"hom":[],"hookleftarrow":[],"hookrightarrow":[],"hphantom":[],"href":["html"],"hskip":[],"hslash":["ams"],"hspace":[],"huge":[],"Huge":[],"hypcosecant":["physics"],"hypcosine":["physics"],"hypcotangent":["physics"],"hypsecant":["physics"],"hypsine":["physics"],"hyptangent":["physics"],"identitymatrix":["physics"],"idotsint":["ams"],"iff":[],"iiiint":["ams"],"iiint":[],"iint":[],"Im":["base","physics"],"imaginary":["physics"],"imat":["physics"],"imath":[],"impliedby":["ams"],"implies":["ams"],"in":[],"inf":[],"infty":[],"injlim":["ams"],"innerproduct":["physics"],"int":[],"intercal":["ams"],"intop":[],"iota":[],"ip":["physics"],"it":[],"jmath":[],"Join":["ams"],"kappa":[],"ker":[],"kern":[],"ket":["braket","physics"],"Ket":["braket"],"ketbra":["braket","physics"],"Ketbra":["braket"],"label":[],"lambda":[],"Lambda":[],"land":[],"langle":[],"laplacian":["physics"],"large":[],"Large":[],"LARGE":[],"LaTeX":[],"lbrace":[],"lbrack":[],"lceil":[],"ldotp":[],"ldots":[],"le":[],"leadsto":["ams"],"left":[],"Leftarrow":[],"leftarrow":[],"leftarrowtail":["ams"],"leftharpoondown":[],"leftharpoonup":[],"LeftLabel":["bussproofs"],"leftleftarrows":["ams"],"Leftrightarrow":[],"leftrightarrow":[],"leftrightarrows":["ams"],"leftrightharpoons":["ams"],"leftrightsquigarrow":["ams"],"leftroot":[],"leftthreetimes":["ams"],"leq":[],"leqalignno":[],"leqq":["ams"],"leqslant":["ams"],"lessapprox":["ams"],"lessdot":["ams"],"lesseqgtr":["ams"],"lesseqqgtr":["ams"],"lessgtr":["ams"],"lesssim":["ams"],"let":["newcommand"],"lfloor":[],"lg":[],"lgroup":[],"lhd":["ams"],"lim":[],"liminf":[],"limits":[],"limsup":[],"ll":[],"LL":["bussproofs"],"llap":[],"llcorner":["ams"],"Lleftarrow":["ams"],"lll":["ams"],"llless":["ams"],"lmoustache":[],"ln":["base","physics"],"lnapprox":["ams"],"lneq":["ams"],"lneqq":["ams"],"lnot":[],"lnsim":["ams"],"log":["base","physics"],"logarithm":["physics"],"longleftarrow":[],"Longleftarrow":[],"Longleftrightarrow":[],"longleftrightarrow":[],"longleftrightarrows":["mhchem"],"longLeftrightharpoons":["mhchem"],"longmapsto":[],"longrightarrow":[],"Longrightarrow":[],"longrightleftharpoons":["mhchem"],"longRightleftharpoons":["mhchem"],"looparrowleft":["ams"],"looparrowright":["ams"],"lor":[],"lower":[],"lozenge":["ams"],"lparen":["mathtools"],"lrcorner":["ams"],"Lsh":["ams"],"lt":[],"ltimes":["ams"],"lvert":["ams"],"lVert":["ams"],"lvertneqq":["ams"],"maltese":["ams"],"mapsto":[],"mathbb":[],"mathbf":[],"mathbfcal":[],"mathbffrak":[],"mathbfit":[],"mathbfscr":[],"mathbfsf":[],"mathbfsfit":[],"mathbfsfup":[],"mathbfup":[],"mathbin":[],"mathcal":[],"mathchoice":[],"mathclap":["mathtools"],"mathclose":[],"mathfrak":[],"mathinner":[],"mathit":[],"mathllap":["mathtools"],"mathmakebox":["mathtools"],"mathmbox":["mathtools"],"mathnormal":[],"mathop":[],"mathopen":[],"mathord":[],"mathpunct":[],"mathrel":[],"mathring":["ams"],"mathrlap":["mathtools"],"mathrm":[],"mathscr":[],"mathsf":[],"mathsfit":[],"mathsfup":[],"mathstrut":[],"mathtip":["action"],"mathtoolsset":["mathtools"],"mathtt":[],"mathup":[],"matrix":[],"matrixdeterminant":["physics"],"matrixel":["physics"],"matrixelement":["physics"],"matrixquantity":["physics"],"max":[],"mbox":[],"mdet":["physics"],"measuredangle":["ams"],"mel":["physics"],"mho":["ams"],"micro":["gensymb"],"mid":[],"middle":[],"min":[],"minCDarrowheight":["amscd"],"minCDarrowwidth":["amscd"],"mit":[],"mkern":[],"mmlToken":[],"mod":[],"models":[],"MoveEqLeft":["mathtools"],"moveleft":[],"moveright":[],"mp":[],"mqty":["physics"],"mskip":[],"mspace":[],"MTFlushSpaceAbove":["mathtools"],"MTFlushSpaceBelow":["mathtools"],"MTThinColon":["mathtools"],"mu":[],"multimap":["ams"],"nabla":[],"natural":[],"naturallogarithm":["physics"],"ncong":["ams"],"ndownarrow":["mathtools"],"ne":[],"nearrow":[],"neg":[],"negmedspace":["ams"],"negthickspace":["ams"],"negthinspace":[],"neq":[],"newcommand":["newcommand"],"newenvironment":["newcommand"],"Newextarrow":["extpfeil"],"newline":[],"newtagform":["mathtools"],"nexists":["ams"],"ngeq":["ams"],"ngeqq":["ams"],"ngeqslant":["ams"],"ngtr":["ams"],"ni":[],"nleftarrow":["ams"],"nLeftarrow":["ams"],"nleftrightarrow":["ams"],"nLeftrightarrow":["ams"],"nleq":["ams"],"nleqq":["ams"],"nleqslant":["ams"],"nless":["ams"],"nmid":["ams"],"nobreakspace":["ams"],"nolimits":[],"noLine":["bussproofs"],"nonscript":[],"nonumber":[],"norm":["physics"],"normalsize":[],"not":[],"notag":["ams"],"notChar":[],"notin":[],"nparallel":["ams"],"nprec":["ams"],"npreceq":["ams"],"nrightarrow":["ams"],"nRightarrow":["ams"],"nshortmid":["ams"],"nshortparallel":["ams"],"nsim":["ams"],"nsubseteq":["ams"],"nsubseteqq":["ams"],"nsucc":["ams"],"nsucceq":["ams"],"nsupseteq":["ams"],"nsupseteqq":["ams"],"ntriangleleft":["ams"],"ntrianglelefteq":["ams"],"ntriangleright":["ams"],"ntrianglerighteq":["ams"],"nu":[],"nuparrow":["mathtools"],"nvdash":["ams"],"nvDash":["ams"],"nVdash":["ams"],"nVDash":["ams"],"nwarrow":[],"odot":[],"ohm":["gensymb"],"oint":[],"oldstyle":[],"omega":[],"Omega":[],"omicron":[],"ominus":[],"op":["physics"],"operatorname":["ams"],"oplus":[],"order":["physics"],"ordinarycolon":["mathtools"],"oslash":[],"otimes":[],"outerproduct":["physics"],"over":[],"overbrace":[],"overbracket":["mathtools"],"overleftarrow":[],"overleftrightarrow":[],"overline":[],"overparen":[],"overrightarrow":[],"overset":[],"overunderset":[],"overwithdelims":[],"owns":[],"parallel":[],"partial":[],"partialderivative":["physics"],"paulimatrix":["physics"],"pb":["physics"],"pderivative":["physics"],"pdv":["physics"],"perp":[],"perthousand":["gensymb"],"phantom":[],"phi":[],"Phi":[],"pi":[],"Pi":[],"pitchfork":["ams"],"pm":[],"pmat":["physics"],"pmatrix":[],"pmb":[],"pmod":[],"pmqty":["physics"],"Pmqty":["physics"],"pod":[],"poissonbracket":["physics"],"pqty":["physics"],"Pr":["base","physics"],"prec":[],"precapprox":["ams"],"preccurlyeq":["ams"],"preceq":[],"precnapprox":["ams"],"precneqq":["ams"],"precnsim":["ams"],"precsim":["ams"],"prescript":["mathtools"],"prime":[],"principalvalue":["physics"],"Probability":["physics"],"prod":[],"projlim":["ams"],"propto":[],"psi":[],"Psi":[],"pu":["mhchem"],"pv":["physics"],"PV":["physics"],"qall":["physics"],"qand":["physics"],"qas":["physics"],"qassume":["physics"],"qc":["physics"],"qcc":["physics"],"qcomma":["physics"],"qelse":["physics"],"qeven":["physics"],"qfor":["physics"],"qgiven":["physics"],"qif":["physics"],"qin":["physics"],"qinteger":["physics"],"qlet":["physics"],"qodd":["physics"],"qor":["physics"],"qotherwise":["physics"],"qq":["physics"],"qqtext":["physics"],"qquad":[],"qsince":["physics"],"qthen":["physics"],"qty":["physics"],"quad":[],"quantity":["physics"],"QuaternaryInf":["bussproofs"],"QuaternaryInfC":["bussproofs"],"QuinaryInf":["bussproofs"],"QuinaryInfC":["bussproofs"],"qunless":["physics"],"qusing":["physics"],"raise":[],"rangle":[],"rank":["physics"],"rbrace":[],"rbrack":[],"rceil":[],"Re":["base","physics"],"real":["physics"],"ref":[],"refeq":["mathtools"],"renewcommand":["newcommand"],"renewenvironment":["newcommand"],"renewtagform":["mathtools"],"Res":["physics"],"Residue":["physics"],"restriction":["ams"],"rfloor":[],"rgroup":[],"rhd":["ams"],"rho":[],"right":[],"Rightarrow":[],"rightarrow":[],"rightarrowtail":["ams"],"rightharpoondown":[],"rightharpoonup":[],"RightLabel":["bussproofs"],"rightleftarrows":["ams"],"rightleftharpoons":["base","ams"],"rightrightarrows":["ams"],"rightsquigarrow":["ams"],"rightthreetimes":["ams"],"risingdotseq":["ams"],"RL":["bussproofs"],"rlap":[],"rm":[],"rmoustache":[],"root":[],"rootAtBottom":["bussproofs"],"rootAtTop":["bussproofs"],"rowcolor":["colortbl"],"rparen":["mathtools"],"Rrightarrow":["ams"],"Rsh":["ams"],"rtimes":["ams"],"rule":[],"Rule":[],"rvert":["ams"],"rVert":["ams"],"S":[],"sbmqty":["physics"],"scr":[],"scriptscriptstyle":[],"scriptsize":[],"scriptstyle":[],"searrow":[],"sec":["base","physics"],"secant":["physics"],"sech":["physics"],"set":["braket"],"Set":["braket"],"setminus":[],"sf":[],"sharp":[],"shortmid":["ams"],"shortparallel":["ams"],"shortvdotswithin":["mathtools"],"shoveleft":["ams","mathtools"],"shoveright":["ams","mathtools"],"sideset":["ams"],"sigma":[],"Sigma":[],"sim":[],"simeq":[],"sin":["base","physics"],"sine":["physics"],"singleLine":["bussproofs"],"sinh":["base","physics"],"skew":[],"SkipLimits":["ams"],"small":[],"smallfrown":["ams"],"smallint":[],"smallmatrixquantity":["physics"],"smallsetminus":["ams"],"smallsmile":["ams"],"smash":[],"smdet":["physics"],"smile":[],"smqty":["physics"],"solidLine":["bussproofs"],"Space":[],"space":[],"spadesuit":[],"sphericalangle":["ams"],"splitdfrac":["mathtools"],"splitfrac":["mathtools"],"spmqty":["physics"],"sPmqty":["physics"],"sqcap":[],"sqcup":[],"sqrt":[],"sqsubset":["ams"],"sqsubseteq":[],"sqsupset":["ams"],"sqsupseteq":[],"square":["ams"],"stackbin":[],"stackrel":[],"star":[],"strut":[],"style":["html"],"subset":[],"Subset":["ams"],"subseteq":[],"subseteqq":["ams"],"subsetneq":["ams"],"subsetneqq":["ams"],"substack":["ams"],"succ":[],"succapprox":["ams"],"succcurlyeq":["ams"],"succeq":[],"succnapprox":["ams"],"succneqq":["ams"],"succnsim":["ams"],"succsim":["ams"],"sum":[],"sup":[],"supset":[],"Supset":["ams"],"supseteq":[],"supseteqq":["ams"],"supsetneq":["ams"],"supsetneqq":["ams"],"surd":[],"svmqty":["physics"],"swarrow":[],"symbb":[],"symbf":[],"symbfcal":[],"symbffrak":[],"symbfit":[],"symbfscr":[],"symbfsf":[],"symbfsfit":[],"symbfsfup":[],"symbfup":[],"symcal":[],"symfrak":[],"symit":[],"symnormal":[],"symrm":[],"symscr":[],"symsf":[],"symsfit":[],"symsfup":[],"symtt":[],"symup":[],"tag":["ams"],"tan":["base","physics"],"tangent":["physics"],"tanh":["base","physics"],"tau":[],"tbinom":["ams"],"TeX":[],"text":[],"textacutedbl":["textcomp"],"textasciiacute":["textcomp"],"textasciibreve":["textcomp"],"textasciicaron":["textcomp"],"textasciicircum":["textcomp"],"textasciidieresis":["textcomp"],"textasciimacron":["textcomp"],"textasciitilde":["textcomp"],"textasteriskcentered":["textcomp"],"textbackslash":["textcomp"],"textbaht":["textcomp"],"textbar":["textcomp"],"textbardbl":["textcomp"],"textbf":[],"textbigcircle":["textcomp"],"textblank":["textcomp"],"textborn":["textcomp"],"textbraceleft":["textcomp"],"textbraceright":["textcomp"],"textbrokenbar":["textcomp"],"textbullet":["textcomp"],"textcelsius":["textcomp"],"textcent":["textcomp"],"textcentoldstyle":["textcomp"],"textcircledP":["textcomp"],"textclap":["mathtools"],"textcolonmonetary":["textcomp"],"textcolor":["color"],"textcompwordmark":["textcomp"],"textcopyleft":["textcomp"],"textcopyright":["textcomp"],"textcurrency":["textcomp"],"textdagger":["textcomp"],"textdaggerdbl":["textcomp"],"textdegree":["textcomp"],"textdied":["textcomp"],"textdiscount":["textcomp"],"textdiv":["textcomp"],"textdivorced":["textcomp"],"textdollar":["textcomp"],"textdollaroldstyle":["textcomp"],"textdong":["textcomp"],"textdownarrow":["textcomp"],"texteightoldstyle":["textcomp"],"textellipsis":["textcomp"],"textemdash":["textcomp"],"textendash":["textcomp"],"textestimated":["textcomp"],"texteuro":["textcomp"],"textexclamdown":["textcomp"],"textfiveoldstyle":["textcomp"],"textflorin":["textcomp"],"textfouroldstyle":["textcomp"],"textfractionsolidus":["textcomp"],"textgravedbl":["textcomp"],"textgreater":["textcomp"],"textguarani":["textcomp"],"textinterrobang":["textcomp"],"textinterrobangdown":["textcomp"],"textit":[],"textlangle":["textcomp"],"textlbrackdbl":["textcomp"],"textleftarrow":["textcomp"],"textless":["textcomp"],"textlira":["textcomp"],"textllap":["mathtools"],"textlnot":["textcomp"],"textlquill":["textcomp"],"textmarried":["textcomp"],"textmho":["textcomp"],"textminus":["textcomp"],"textmu":["textcomp"],"textmusicalnote":["textcomp"],"textnaira":["textcomp"],"textnineoldstyle":["textcomp"],"textnormal":[],"textnumero":["textcomp"],"textohm":["textcomp"],"textonehalf":["textcomp"],"textoneoldstyle":["textcomp"],"textonequarter":["textcomp"],"textonesuperior":["textcomp"],"textopenbullet":["textcomp"],"textordfeminine":["textcomp"],"textordmasculine":["textcomp"],"textparagraph":["textcomp"],"textperiodcentered":["textcomp"],"textpertenthousand":["textcomp"],"textperthousand":["textcomp"],"textpeso":["textcomp"],"textpm":["textcomp"],"textquestiondown":["textcomp"],"textquotedblleft":["textcomp"],"textquotedblright":["textcomp"],"textquoteleft":["textcomp"],"textquoteright":["textcomp"],"textrangle":["textcomp"],"textrbrackdbl":["textcomp"],"textrecipe":["textcomp"],"textreferencemark":["textcomp"],"textregistered":["textcomp"],"textrightarrow":["textcomp"],"textrlap":["mathtools"],"textrm":[],"textrquill":["textcomp"],"textsection":["textcomp"],"textservicemark":["textcomp"],"textsevenoldstyle":["textcomp"],"textsf":[],"textsixoldstyle":["textcomp"],"textsterling":["textcomp"],"textstyle":[],"textsurd":["textcomp"],"textthreeoldstyle":["textcomp"],"textthreequarters":["textcomp"],"textthreesuperior":["textcomp"],"texttildelow":["textcomp"],"texttimes":["textcomp"],"texttip":["action"],"texttrademark":["textcomp"],"texttt":[],"texttwooldstyle":["textcomp"],"texttwosuperior":["textcomp"],"textunderscore":["textcomp"],"textup":[],"textuparrow":["textcomp"],"textvisiblespace":["textcomp"],"textwon":["textcomp"],"textyen":["textcomp"],"textzerooldstyle":["textcomp"],"tfrac":["ams"],"therefore":["ams"],"theta":[],"Theta":[],"thickapprox":["ams"],"thicksim":["ams"],"thinspace":[],"TIC":["bussproofs"],"tilde":[],"times":[],"tiny":[],"Tiny":[],"to":[],"toggle":["action"],"top":[],"tr":["physics"],"Tr":["physics"],"trace":["physics"],"Trace":["physics"],"triangle":[],"triangledown":["ams"],"triangleleft":[],"trianglelefteq":["ams"],"triangleq":["ams"],"triangleright":[],"trianglerighteq":["ams"],"TrinaryInf":["bussproofs"],"TrinaryInfC":["bussproofs"],"tripledash":["mhchem"],"tt":[],"twoheadleftarrow":["ams"],"twoheadrightarrow":["ams"],"UIC":["bussproofs"],"ulcorner":["ams"],"UnaryInf":["bussproofs"],"UnaryInfC":["bussproofs"],"underbrace":[],"underbracket":["mathtools"],"underleftarrow":[],"underleftrightarrow":[],"underline":[],"underparen":[],"underrightarrow":[],"underset":[],"unicode":["unicode"],"unlhd":["ams"],"unrhd":["ams"],"upalpha":["upgreek"],"uparrow":[],"Uparrow":[],"upbeta":["upgreek"],"upchi":["upgreek"],"updelta":["upgreek"],"Updelta":["upgreek"],"updownarrow":[],"Updownarrow":[],"upepsilon":["upgreek"],"upeta":["upgreek"],"upgamma":["upgreek"],"Upgamma":["upgreek"],"upharpoonleft":["ams"],"upharpoonright":["ams"],"upiota":["upgreek"],"upkappa":["upgreek"],"uplambda":["upgreek"],"Uplambda":["upgreek"],"uplus":[],"upmu":["upgreek"],"upnu":["upgreek"],"upomega":["upgreek"],"Upomega":["upgreek"],"upomicron":["upgreek"],"upphi":["upgreek"],"Upphi":["upgreek"],"uppi":["upgreek"],"Uppi":["upgreek"],"uppsi":["upgreek"],"Uppsi":["upgreek"],"uprho":["upgreek"],"uproot":[],"upsigma":["upgreek"],"Upsigma":["upgreek"],"upsilon":[],"Upsilon":[],"uptau":["upgreek"],"uptheta":["upgreek"],"Uptheta":["upgreek"],"upuparrows":["ams"],"upupsilon":["upgreek"],"Upupsilon":["upgreek"],"upvarepsilon":["upgreek"],"upvarphi":["upgreek"],"upvarpi":["upgreek"],"upvarrho":["upgreek"],"upvarsigma":["upgreek"],"upvartheta":["upgreek"],"upxi":["upgreek"],"Upxi":["upgreek"],"upzeta":["upgreek"],"urcorner":["ams"],"usetagform":["mathtools"],"va":["physics"],"var":["physics"],"varDelta":["ams"],"varepsilon":[],"varGamma":["ams"],"variation":["physics"],"varinjlim":["ams"],"varkappa":["ams"],"varLambda":["ams"],"varliminf":["ams"],"varlimsup":["ams"],"varnothing":["ams"],"varOmega":["ams"],"varphi":[],"varPhi":["ams"],"varpi":[],"varPi":["ams"],"varprojlim":["ams"],"varpropto":["ams"],"varPsi":["ams"],"varrho":[],"varsigma":[],"varSigma":["ams"],"varsubsetneq":["ams"],"varsubsetneqq":["ams"],"varsupsetneq":["ams"],"varsupsetneqq":["ams"],"vartheta":[],"varTheta":["ams"],"vartriangle":["ams"],"vartriangleleft":["ams"],"vartriangleright":["ams"],"varUpsilon":["ams"],"varXi":["ams"],"vb":["physics"],"vcenter":[],"vdash":[],"vDash":["ams"],"Vdash":["ams"],"vdot":["physics"],"vdots":[],"vdotswithin":["mathtools"],"vec":[],"vectorarrow":["physics"],"vectorbold":["physics"],"vectorunit":["physics"],"vee":[],"veebar":["ams"],"verb":["verb"],"Vert":[],"vert":[],"vmqty":["physics"],"vnabla":["physics"],"vphantom":[],"vqty":["physics"],"vu":["physics"],"Vvdash":["ams"],"wedge":[],"widehat":[],"widetilde":[],"wp":[],"wr":[],"xcancel":["cancel"],"xhookleftarrow":["mathtools"],"xhookrightarrow":["mathtools"],"xi":[],"Xi":[],"xleftarrow":["ams"],"xLeftarrow":["mathtools"],"xleftharpoondown":["mathtools"],"xleftharpoonup":["mathtools"],"xleftrightarrow":["mathtools","mhchem"],"xLeftrightarrow":["mathtools"],"xleftrightharpoons":["mathtools"],"xLeftrightharpoons":["mhchem"],"xlongequal":["extpfeil"],"xmapsto":["extpfeil","mathtools"],"xmat":["physics"],"xmathstrut":["mathtools"],"xmatrix":["physics"],"xrightarrow":["ams"],"xRightarrow":["mathtools"],"xrightharpoondown":["mathtools"],"xrightharpoonup":["mathtools"],"xrightleftharpoons":["mathtools","mhchem"],"xRightleftharpoons":["mhchem"],"xtofrom":["extpfeil"],"xtwoheadleftarrow":["extpfeil"],"xtwoheadrightarrow":["extpfeil"],"yen":["ams"],"zeromatrix":["physics"],"zeta":[],"zmat":["physics"]};
const kMathjaxCommands = mathjaxImport as Record<string, string[]>;

const mathjaxCompletions = {"acute{}":{"command":"acute{a}","snippet":"acute{${1:a}}"},"aleph":{"command":"aleph","snippet":"aleph","detail":"ℵ","documentation":"aleph, hebrew"},"amalg":{"command":"amalg","snippet":"amalg","detail":"⨿","documentation":"AMALGAMATION OR COPRODUCT"},"angle":{"command":"angle","snippet":"angle","detail":"∠","documentation":"ANGLE"},"arccos":{"command":"arccos","snippet":"arccos"},"arcsin":{"command":"arcsin","snippet":"arcsin"},"arctan":{"command":"arctan","snippet":"arctan"},"arg":{"command":"arg","snippet":"arg"},"Arrowvert":{"command":"Arrowvert","snippet":"Arrowvert"},"arrowvert":{"command":"arrowvert","snippet":"arrowvert"},"ast":{"command":"ast","snippet":"ast","detail":"∗","documentation":"ASTERISK OPERATOR (Hodge star operator)"},"asymp":{"command":"asymp","snippet":"asymp","detail":"≍","documentation":"asymptotically equal to"},"backslash":{"command":"backslash","snippet":"backslash","detail":"\\","documentation":"REVERSE SOLIDUS"},"bar{}":{"command":"bar{a}","snippet":"bar{${1:a}}"},"Big":{"command":"Big","snippet":"Big"},"big":{"command":"big","snippet":"big"},"bigcirc":{"command":"bigcirc","snippet":"bigcirc"},"Bigg":{"command":"Bigg","snippet":"Bigg"},"bigg":{"command":"bigg","snippet":"bigg"},"Biggl":{"command":"Biggl","snippet":"Biggl"},"Biggl..\\Biggr":{"command":"Biggl..\\Biggr","snippet":"Biggl${1}\\Biggr"},"biggl":{"command":"biggl","snippet":"biggl"},"biggl..\\biggr":{"command":"biggl..\\biggr","snippet":"biggl${1}\\biggr"},"Biggm":{"command":"Biggm","snippet":"Biggm"},"biggm":{"command":"biggm","snippet":"biggm"},"Biggr":{"command":"Biggr","snippet":"Biggr"},"biggr":{"command":"biggr","snippet":"biggr"},"Bigl":{"command":"Bigl","snippet":"Bigl"},"Bigl..\\Bigr":{"command":"Bigl..\\Bigr","snippet":"Bigl${1}\\Bigr"},"bigl":{"command":"bigl","snippet":"bigl"},"bigl..\\bigr":{"command":"bigl..\\bigr","snippet":"bigl${1}\\bigr"},"Bigm":{"command":"Bigm","snippet":"Bigm"},"bigm":{"command":"bigm","snippet":"bigm"},"bigodot":{"command":"bigodot","snippet":"bigodot","detail":"⨀","documentation":"N-ARY CIRCLED DOT OPERATOR"},"bigoplus":{"command":"bigoplus","snippet":"bigoplus","detail":"⨁","documentation":"N-ARY CIRCLED PLUS OPERATOR"},"bigotimes":{"command":"bigotimes","snippet":"bigotimes","detail":"⨂","documentation":"N-ARY CIRCLED TIMES OPERATOR"},"Bigr":{"command":"Bigr","snippet":"Bigr"},"bigr":{"command":"bigr","snippet":"bigr"},"bigsqcup":{"command":"bigsqcup","snippet":"bigsqcup","detail":"⨆","documentation":"N-ARY SQUARE UNION OPERATOR"},"bigtriangledown":{"command":"bigtriangledown","snippet":"bigtriangledown","detail":"▽","documentation":"big down open"},"bigtriangleup":{"command":"bigtriangleup","snippet":"bigtriangleup","detail":"△","documentation":"big up open"},"biguplus":{"command":"biguplus","snippet":"biguplus","detail":"⨄","documentation":"N-ARY UNION OPERATOR WITH PLUS"},"bigvee":{"command":"bigvee","snippet":"bigvee","detail":"⋁","documentation":"logical and operator"},"bigwedge":{"command":"bigwedge","snippet":"bigwedge","detail":"⋀","documentation":"logical or operator"},"bot":{"command":"bot","snippet":"bot","detail":"⊥","documentation":"UP TACK, bottom"},"bracevert":{"command":"bracevert","snippet":"bracevert"},"breve{}":{"command":"breve{a}","snippet":"breve{${1:a}}"},"bullet":{"command":"bullet","snippet":"bullet","detail":"∙","documentation":"BULLET OPERATOR"},"check{}":{"command":"check{a}","snippet":"check{${1:a}}"},"clubsuit":{"command":"clubsuit","snippet":"clubsuit","detail":"♣","documentation":"club suit symbol"},"cong":{"command":"cong","snippet":"cong","detail":"≅","documentation":"congruent with"},"coprod":{"command":"coprod","snippet":"coprod","detail":"∐","documentation":"coproduct operator"},"cos":{"command":"cos","snippet":"cos"},"cosh":{"command":"cosh","snippet":"cosh"},"cot":{"command":"cot","snippet":"cot"},"coth":{"command":"coth","snippet":"coth"},"csc":{"command":"csc","snippet":"csc"},"dagger":{"command":"dagger","snippet":"dagger","detail":"†","documentation":"DAGGER relation"},"dashv":{"command":"dashv","snippet":"dashv","detail":"⊣","documentation":"LEFT TACK, non- does no (dash, vertical)"},"ddagger":{"command":"ddagger","snippet":"ddagger","detail":"‡","documentation":"DOUBLE DAGGER relation"},"ddot{}":{"command":"ddot{a}","snippet":"ddot{${1:a}}"},"deg":{"command":"deg","snippet":"deg"},"det":{"command":"det","snippet":"det"},"diamond":{"command":"diamond","snippet":"diamond","detail":"⋄","documentation":"DIAMOND OPERATOR (white diamond)"},"diamondsuit":{"command":"diamondsuit","snippet":"diamondsuit","detail":"♢","documentation":"diamond suit symbol"},"dim":{"command":"dim","snippet":"dim"},"doteq":{"command":"doteq","snippet":"doteq","detail":"≐","documentation":"equals, single dot above"},"dot{}":{"command":"dot{x}","snippet":"dot{${1:x}}"},"Downarrow":{"command":"Downarrow","snippet":"Downarrow","detail":"⇓","documentation":"down double arrow"},"downarrow":{"command":"downarrow","snippet":"downarrow","detail":"↓","documentation":"downward arrow"},"ell":{"command":"ell","snippet":"ell","detail":"ℓ","documentation":"cursive small l"},"emptyset":{"command":"emptyset","snippet":"emptyset"},"exp":{"command":"exp","snippet":"exp"},"flat":{"command":"flat","snippet":"flat","detail":"♭","documentation":"musical flat"},"frown":{"command":"frown","snippet":"frown","detail":"⌢","documentation":"FROWN (down curve)"},"gcd":{"command":"gcd","snippet":"gcd"},"ge":{"command":"ge","snippet":"ge","detail":"≥","documentation":"r: greater-than-or-equal"},"gets":{"command":"gets","snippet":"gets","detail":"←","documentation":"a: leftward arrow"},"gg":{"command":"gg","snippet":"gg","detail":"≫","documentation":"much greater type 2"},"grave{}":{"command":"grave{a}","snippet":"grave{${1:a}}"},"hat{}":{"command":"hat{a}","snippet":"hat{${1:a}}"},"hbar":{"command":"hbar","snippet":"hbar"},"heartsuit":{"command":"heartsuit","snippet":"heartsuit","detail":"♡","documentation":"heart suit symbol"},"hom":{"command":"hom","snippet":"hom"},"hookleftarrow":{"command":"hookleftarrow","snippet":"hookleftarrow","detail":"↩","documentation":"left arrow-hooked"},"hookrightarrow":{"command":"hookrightarrow","snippet":"hookrightarrow","detail":"↪","documentation":"right arrow-hooked"},"Im":{"command":"Im","snippet":"Im","detail":"ℑ","documentation":"imaginary part"},"imath":{"command":"imath","snippet":"imath","detail":"𝚤","documentation":"MATHEMATICAL ITALIC SMALL DOTLESS I"},"inf":{"command":"inf","snippet":"inf"},"int":{"command":"int","snippet":"int","detail":"∫","documentation":"INTEGRAL operator"},"jmath":{"command":"jmath","snippet":"jmath","detail":"𝚥","documentation":"MATHEMATICAL ITALIC SMALL DOTLESS J"},"ker":{"command":"ker","snippet":"ker"},"langle":{"command":"langle","snippet":"langle","detail":"⟨","documentation":"MATHEMATICAL LEFT ANGLE BRACKET"},"lbrace":{"command":"lbrace","snippet":"lbrace","detail":"{","documentation":"LEFT CURLY BRACKET"},"lbrack":{"command":"lbrack","snippet":"lbrack","detail":"[","documentation":"LEFT SQUARE BRACKET"},"lceil":{"command":"lceil","snippet":"lceil","detail":"⌈","documentation":"LEFT CEILING"},"le":{"command":"le","snippet":"le","detail":"≤","documentation":"r: less-than-or-equal"},"leftharpoondown":{"command":"leftharpoondown","snippet":"leftharpoondown","detail":"↽","documentation":"left harpoon-down"},"leftharpoonup":{"command":"leftharpoonup","snippet":"leftharpoonup","detail":"↼","documentation":"left harpoon-up"},"leftrightarrow":{"command":"leftrightarrow","snippet":"leftrightarrow","detail":"⇆","documentation":"left arrow over right arrow"},"lfloor":{"command":"lfloor","snippet":"lfloor","detail":"⌊","documentation":"LEFT FLOOR"},"lg":{"command":"lg","snippet":"lg"},"lgroup":{"command":"lgroup","snippet":"lgroup","detail":"⟮","documentation":"MATHEMATICAL LEFT FLATTENED PARENTHESIS"},"lim":{"command":"lim","snippet":"lim"},"liminf":{"command":"liminf","snippet":"liminf"},"limsup":{"command":"limsup","snippet":"limsup"},"ll":{"command":"ll","snippet":"ll","detail":"≪","documentation":"much less type 2"},"lmoustache":{"command":"lmoustache","snippet":"lmoustache","detail":"⎰","documentation":"? \\lmous UPPER LEFT OR LOWER RIGHT CURLY BRACKET SECTION"},"ln":{"command":"ln","snippet":"ln"},"log":{"command":"log","snippet":"log"},"Longleftarrow":{"command":"Longleftarrow","snippet":"Longleftarrow","detail":"⟸","documentation":"LONG LEFTWARDS DOUBLE ARROW"},"longleftarrow":{"command":"longleftarrow","snippet":"longleftarrow","detail":"⟵","documentation":"LONG LEFTWARDS ARROW"},"longleftrightarrow":{"command":"longleftrightarrow","snippet":"longleftrightarrow","detail":"⟷","documentation":"LONG LEFT RIGHT ARROW"},"Longleftrightarrow":{"command":"Longleftrightarrow","snippet":"Longleftrightarrow","detail":"⟺","documentation":"LONG LEFT RIGHT DOUBLE ARROW"},"longmapsto":{"command":"longmapsto","snippet":"longmapsto","detail":"⟼","documentation":"LONG RIGHTWARDS ARROW FROM BAR"},"Longrightarrow":{"command":"Longrightarrow","snippet":"Longrightarrow","detail":"⟹","documentation":"LONG RIGHTWARDS DOUBLE ARROW"},"longrightarrow":{"command":"longrightarrow","snippet":"longrightarrow","detail":"⟶","documentation":"LONG RIGHTWARDS ARROW"},"mapsto":{"command":"mapsto","snippet":"mapsto","detail":"↦","documentation":"maps righ z notation maplet"},"max":{"command":"max","snippet":"max"},"min":{"command":"min","snippet":"min"},"models":{"command":"models","snippet":"models","detail":"⊧","documentation":"MODELS (ver short double dash)"},"mp":{"command":"mp","snippet":"mp","detail":"∓","documentation":"MINUS-OR-PLUS SIGN"},"nabla":{"command":"nabla","snippet":"nabla","detail":"∇","documentation":"NABLA, del, hamilton operator"},"natural":{"command":"natural","snippet":"natural","detail":"♮","documentation":"music natural"},"nearrow":{"command":"nearrow","snippet":"nearrow","detail":"↗","documentation":"ne pointing arrow"},"ni":{"command":"ni","snippet":"ni","detail":"∋","documentation":"con variant"},"not":{"command":"not","snippet":"not","detail":" ̸","documentation":"COMBINING LONG SOLIDUS OVERLAY"},"nwarrow":{"command":"nwarrow","snippet":"nwarrow","detail":"↖","documentation":"nw pointing arrow"},"odot":{"command":"odot","snippet":"odot","detail":"⊙","documentation":"middle dot in circle"},"oint":{"command":"oint","snippet":"oint","detail":"∮","documentation":"CONTOUR INTEGRAL operator"},"ominus":{"command":"ominus","snippet":"ominus","detail":"⊖","documentation":"minus sign in circle"},"oplus":{"command":"oplus","snippet":"oplus","detail":"⊕","documentation":"plus sign in circle"},"oslash":{"command":"oslash","snippet":"oslash","detail":"⊘","documentation":"solidus in circle"},"otimes":{"command":"otimes","snippet":"otimes","detail":"⊗","documentation":"multiply sign in circle"},"parallel":{"command":"parallel","snippet":"parallel","detail":"∥","documentation":"parallel"},"perp":{"command":"perp","snippet":"perp","detail":"⟂","documentation":"PERPENDICULAR"},"Pr":{"command":"Pr","snippet":"Pr"},"prec":{"command":"prec","snippet":"prec","detail":"≺","documentation":"PRECEDES"},"preceq":{"command":"preceq","snippet":"preceq","detail":"⪯","documentation":"PRECEDES ABOVE SINGLE-LINE EQUALS SIGN"},"propto":{"command":"propto","snippet":"propto","detail":"∝","documentation":"is PROPORTIONAL TO"},"rangle":{"command":"rangle","snippet":"rangle","detail":"⟩","documentation":"MATHEMATICAL RIGHT ANGLE BRACKET"},"rbrace":{"command":"rbrace","snippet":"rbrace","detail":"}","documentation":"RIGHT CURLY BRACKET"},"rbrack":{"command":"rbrack","snippet":"rbrack","detail":"]","documentation":"RIGHT SQUARE BRACKET"},"rceil":{"command":"rceil","snippet":"rceil","detail":"⌉","documentation":"RIGHT CEILING"},"Re":{"command":"Re","snippet":"Re","detail":"ℜ","documentation":"real part"},"rfloor":{"command":"rfloor","snippet":"rfloor","detail":"⌋","documentation":"RIGHT FLOOR"},"rgroup":{"command":"rgroup","snippet":"rgroup","detail":"⟯","documentation":"MATHEMATICAL RIGHT FLATTENED PARENTHESIS"},"rightharpoondown":{"command":"rightharpoondown","snippet":"rightharpoondown","detail":"⇁","documentation":"right harpoon-down"},"rightharpoonup":{"command":"rightharpoonup","snippet":"rightharpoonup","detail":"⇀","documentation":"right harpoon-up"},"rightleftharpoons":{"command":"rightleftharpoons","snippet":"rightleftharpoons","detail":"⇌","documentation":"right harpoon over left"},"rmoustache":{"command":"rmoustache","snippet":"rmoustache","detail":"⎱","documentation":"? \\rmous UPPER RIGHT OR LOWER LEFT CURLY BRACKET SECTION"},"searrow":{"command":"searrow","snippet":"searrow","detail":"↘","documentation":"se pointing arrow"},"sec":{"command":"sec","snippet":"sec"},"sharp":{"command":"sharp","snippet":"sharp","detail":"♯","documentation":"= \\ MUSIC SHARP SIGN, z notation infix bag count"},"sim":{"command":"sim","snippet":"sim","detail":"∼","documentation":"similar TILDE OPERATOR"},"simeq":{"command":"simeq","snippet":"simeq","detail":"≃","documentation":"similar, equals"},"sin":{"command":"sin","snippet":"sin"},"sinh":{"command":"sinh","snippet":"sinh"},"smile":{"command":"smile","snippet":"smile","detail":"⌣","documentation":"SMILE (up curve)"},"spadesuit":{"command":"spadesuit","snippet":"spadesuit","detail":"♠","documentation":"spades suit symbol"},"sqcup":{"command":"sqcup","snippet":"sqcup","detail":"⊔","documentation":"square union"},"sqsupseteq":{"command":"sqsupseteq","snippet":"sqsupseteq","detail":"⊒","documentation":"square superset, equals"},"star":{"command":"star","snippet":"star","detail":"⋆","documentation":"small s filled, low"},"subseteq":{"command":"subseteq","snippet":"subseteq","detail":"⊆","documentation":"subset, equals"},"succ":{"command":"succ","snippet":"succ","detail":"≻","documentation":"SUCCEEDS"},"succeq":{"command":"succeq","snippet":"succeq","detail":"⪰","documentation":"SUCCEEDS ABOVE SINGLE-LINE EQUALS SIGN"},"sup":{"command":"sup","snippet":"sup"},"supseteq":{"command":"supseteq","snippet":"supseteq","detail":"⊇","documentation":"superset, equals"},"surd":{"command":"surd","snippet":"surd"},"swarrow":{"command":"swarrow","snippet":"swarrow","detail":"↙","documentation":"sw pointing arrow"},"tan":{"command":"tan","snippet":"tan"},"tanh":{"command":"tanh","snippet":"tanh"},"tilde{}":{"command":"tilde{a}","snippet":"tilde{${1:a}}"},"to":{"command":"to","snippet":"to","detail":"→","documentation":"rightward arrow, z notation total function"},"top":{"command":"top","snippet":"top","detail":"⊤","documentation":"DOWN TACK, top"},"triangle":{"command":"triangle","snippet":"triangle","detail":"△","documentation":"big up open"},"triangleleft":{"command":"triangleleft","snippet":"triangleleft","detail":"◁","documentation":"(large) lef open; z notation domain restriction"},"triangleright":{"command":"triangleright","snippet":"triangleright","detail":"▷","documentation":"(large) righ open; z notation range restriction"},"Uparrow":{"command":"Uparrow","snippet":"Uparrow","detail":"⇑","documentation":"up double arrow"},"uparrow":{"command":"uparrow","snippet":"uparrow","detail":"↑","documentation":"upward arrow"},"Updownarrow":{"command":"Updownarrow","snippet":"Updownarrow","detail":"⇕","documentation":"up and down double arrow"},"updownarrow":{"command":"updownarrow","snippet":"updownarrow","detail":"↕","documentation":"up and down arrow"},"uplus":{"command":"uplus","snippet":"uplus","detail":"⊎","documentation":"plus sign in union"},"varpi":{"command":"varpi","snippet":"varpi","detail":"𝜛","documentation":"MATHEMATICAL ITALIC PI SYMBOL"},"varrho":{"command":"varrho","snippet":"varrho","detail":"𝜚","documentation":"MATHEMATICAL ITALIC RHO SYMBOL"},"vdash":{"command":"vdash","snippet":"vdash","detail":"⊢","documentation":"RIGHT TACK, proves, implies, yields, (ver dash)"},"vec{}":{"command":"vec{a}","snippet":"vec{${1:a}}"},"Vert":{"command":"Vert","snippet":"Vert","detail":"‖","documentation":"double vertical bar"},"vert":{"command":"vert","snippet":"vert","detail":"|","documentation":"vertical bar"},"wp":{"command":"wp","snippet":"wp","detail":"℘","documentation":"weierstrass p"},"wr":{"command":"wr","snippet":"wr","detail":"≀","documentation":"WREATH PRODUCT"},"begin":{"command":"begin","snippet":"begin{$1}","detail":"Begin a new environment"},"end":{"command":"end","snippet":"end{$1}","detail":"End an environment"},"beginend":{"command":"beginend","snippet":"begin{$1}\n\t${0:${TM_SELECTED_TEXT}}\n\\end{$1}","detail":"Insert \\begin/\\end","documentation":"Insert a `\\begin{} / \\end{}` pair and wrap the selected text if any. Autocompletion is automatically triggered to complete the environment name"},"left(":{"command":"left(","snippet":"left(${1}\\right)","detail":"\\left( ... \\right)"},"left[":{"command":"left[","snippet":"left[${1}\\right]","detail":"\\left[ ... \\right]"},"left{":{"command":"left{","snippet":"left\\{${1}\\right\\\\}","detail":"\\left\\{ ... \\right\\}"},"bigl(":{"command":"bigl(","snippet":"bigl(${1}\\bigr)","detail":"\\bigl( ... \\bigr)"},"bigl[":{"command":"bigl[","snippet":"bigl[${1}\\bigr]","detail":"\\bigl[ ... \\bigr]"},"bigl{":{"command":"bigl{","snippet":"bigl\\{${1}\\bigr\\\\}","detail":"\\bigl\\{ ... \\bigr\\}"},"Bigl(":{"command":"Bigl(","snippet":"Bigl(${1}\\Bigr)","detail":"\\Bigl( ... \\Bigr)"},"Bigl[":{"command":"Bigl[","snippet":"Bigl[${1}\\Bigr]","detail":"\\Bigl[ ... \\Bigr]"},"Bigl{":{"command":"Bigl{","snippet":"Bigl\\{${1}\\Bigr\\\\}","detail":"\\Bigl\\{ ... \\Bigr\\}"},"biggl(":{"command":"biggl(","snippet":"biggl(${1}\\biggr)","detail":"\\biggl( ... \\biggr)"},"biggl[":{"command":"biggl[","snippet":"biggl[${1}\\biggr]","detail":"\\biggl[ ... \\biggr]"},"biggl{":{"command":"biggl{","snippet":"biggl\\{${1}\\biggr\\\\}","detail":"\\biggl\\{ ... \\biggr\\}"},"Biggl(":{"command":"Biggl(","snippet":"Biggl(${1}\\Biggr)","detail":"\\Biggl( ... \\Biggr)"},"Biggl[":{"command":"Biggl[","snippet":"Biggl[${1}\\Biggr]","detail":"\\Biggl[ ... \\Biggr]"},"Biggl{":{"command":"Biggl{","snippet":"Biggl\\{${1}\\Biggr\\\\}","detail":"\\Biggl\\{ ... \\Biggr\\}"},"frame":{"command":"frame","snippet":"begin{frame}\n\t\\frametitle{${1:<title>}}\n\n\t$0\n\n\\end{frame}","detail":"Insert a frame","label":"\\begin{frame} ... \\end{frame}"},"title":{"command":"title","snippet":"title{${1:text}}"},"part":{"command":"part","snippet":"part{${1}}"},"chapter":{"command":"chapter","snippet":"chapter{${1}}"},"section":{"command":"section","snippet":"section{${1}}"},"subsection":{"command":"subsection","snippet":"subsection{${1}}"},"subsubsection":{"command":"subsubsection","snippet":"subsubsection{${1}}"},"paragraph":{"command":"paragraph","snippet":"paragraph{${1}}"},"subparagraph":{"command":"subparagraph","snippet":"subparagraph{${1}}"},"bibliography":{"command":"bibliography","snippet":"bibliography{$1}"},"bibliographystyle":{"command":"bibliographystyle","snippet":"bibliographystyle{$1}"},"caption":{"command":"caption","snippet":"caption{${1}}"},"footnote":{"command":"footnote","snippet":"footnote{${1}}"},"cite":{"command":"cite","snippet":"cite{$1}","detail":"reference"},"textcite":{"command":"textcite","snippet":"textcite{$1}","detail":"reference"},"parencite":{"command":"parencite","snippet":"parencite{$1}","detail":"reference"},"citeyear":{"command":"citeyear","snippet":"citeyear{$1}"},"shortcite":{"command":"shortcite","snippet":"shortcite{$1}"},"emph":{"command":"emph","snippet":"emph{${1}}"},"textbf":{"command":"textbf","snippet":"textbf{${1}}"},"textit":{"command":"textit","snippet":"textit{${1}}"},"textmd":{"command":"textmd","snippet":"textmd{${1}}"},"textnormal":{"command":"textnormal","snippet":"textnormal{${1}}"},"textrm":{"command":"textrm","snippet":"textrm{${1}}"},"textsc":{"command":"textsc","snippet":"textsc{${1}}"},"textsf":{"command":"textsf","snippet":"textsf{${1}}"},"textsl":{"command":"textsl","snippet":"textsl{${1}}","detail":"slanted text"},"texttt":{"command":"texttt","snippet":"texttt{${1}}"},"textup":{"command":"textup","snippet":"textup{${1}}"},"textwidth":{"command":"textwidth","snippet":"textwidth"},"ttfamily":{"command":"ttfamily","snippet":"ttfamily"},"label{}":{"command":"label{...}","snippet":"label{${1}}"},"cref":{"command":"cref","snippet":"cref{${1}}"},"ref":{"command":"ref","snippet":"ref{${1}}"},"cpageref":{"command":"cpageref","snippet":"cpageref{$1}"},"pageref":{"command":"pageref","snippet":"pageref{$1}"},"author":{"command":"author","snippet":"author{$1}"},"pagestyle":{"command":"pagestyle","snippet":"pagestyle{$1}"},"hspace":{"command":"hspace","snippet":"hspace{${1:l}}"},"hspace*":{"command":"hspace*","snippet":"hspace*{${1:l}}"},"vspace":{"command":"vspace","snippet":"vspace{${1:l}}"},"vspace*":{"command":"vspace*","snippet":"vspace*{${1:l}}"},"usepackage":{"command":"usepackage","snippet":"usepackage{$1}"},"item":{"command":"item","snippet":"item $0"},"multicolumn{}{}{}":{"command":"multicolumn{n}{cols}{text}","snippet":"multicolumn{${1:n}}{${2:cols}}{${3:text}}"},"documentclass":{"command":"documentclass","snippet":"documentclass{$1}"},"tableofcontents":{"command":"tableofcontents"},"linespread":{"command":"linespread","snippet":"linespread{${1:x}}"},"date":{"command":"date","snippet":"date{$1}"},"today":{"command":"today"},"underline":{"command":"underline","snippet":"underline{${1}}","detail":" ̲","documentation":"COMBINING LOW LINE"},"rule{}{}":{"command":"rule{width}{height}","snippet":"rule{${1:width}}{${2:height}}"},"pagebreak":{"command":"pagebreak"},"noindent":{"command":"noindent"},"nonumber":{"command":"nonumber","detail":"Insert nonumber, shortcut @,"},"kill":{"command":"kill"},"tiny":{"command":"tiny"},"scriptsize":{"command":"scriptsize"},"footnotesize":{"command":"footnotesize"},"small":{"command":"small"},"normalsize":{"command":"normalsize"},"large":{"command":"large"},"Large":{"command":"Large"},"LARGE":{"command":"LARGE"},"huge":{"command":"huge"},"Huge":{"command":"Huge"},"raggedleft":{"command":"raggedleft"},"raggedright":{"command":"raggedright"},"centering":{"command":"centering"},"cline":{"command":"cline","snippet":"cline{${1:x}-${2:y}}"},"hline":{"command":"hline"},"text":{"command":"text","snippet":"text{$1}"},"sqrt":{"command":"sqrt","snippet":"sqrt{$1}"},"frac":{"command":"frac","snippet":"frac{$1}{$2}"},"bar":{"command":"bar","snippet":"bar{$1}"},"alpha":{"command":"alpha","detail":"α, shortcut @a"},"beta":{"command":"beta","detail":"β, shortcut @b"},"chi":{"command":"chi","detail":"χ, shortcut @c"},"delta":{"command":"delta","detail":"δ, shortcut @d"},"epsilon":{"command":"epsilon","detail":"ε"},"varepsilon":{"command":"varepsilon","detail":"ε, shortcut @e"},"eta":{"command":"eta","detail":"η, shortcut @h"},"gamma":{"command":"gamma","detail":"γ, shortcut @g"},"iota":{"command":"iota","detail":"ι, shortcut @i"},"kappa":{"command":"kappa","detail":"κ, shortcut @k"},"lambda":{"command":"lambda","detail":"λ, shortcut @l"},"mu":{"command":"mu","detail":"μ, shortcut @m"},"nu":{"command":"nu","detail":"ν, shortcut @n"},"omega":{"command":"omega","detail":"ω, shortcut @o"},"phi":{"command":"phi","detail":"ϕ, shortcut @f"},"varphi":{"command":"varphi","detail":"ᵠ, shortcut @vf"},"pi":{"command":"pi","detail":"π, shortcut @p"},"psi":{"command":"psi","detail":"ψ, shortcut @y"},"rho":{"command":"rho","detail":"ρ, shortcut @r"},"sigma":{"command":"sigma","detail":"σ, shortcut @s"},"varsigma":{"command":"varsigma","detail":"ς, shortcut @vs"},"tau":{"command":"tau","detail":"τ, shortcut @t"},"theta":{"command":"theta","detail":"θ, shortcut @q"},"vartheta":{"command":"vartheta","detail":"θ"},"upsilon":{"command":"upsilon","detail":"υ, shortcut @u"},"xi":{"command":"xi","detail":"ξ, shortcut @x"},"zeta":{"command":"zeta","detail":"ζ, shortcut @z"},"Delta":{"command":"Delta","detail":"Δ, shortcut @D"},"Gamma":{"command":"Gamma","detail":"Γ, shortcut @G"},"Lambda":{"command":"Lambda","detail":"Λ, shortcut @L"},"Omega":{"command":"Omega","detail":"Ω, shortcut @W"},"Phi":{"command":"Phi","detail":"Φ, shortcut @F"},"Pi":{"command":"Pi","detail":"Π, shortcut @P"},"Psi":{"command":"Psi","detail":"Ψ, shortcut @Y"},"Sigma":{"command":"Sigma","detail":"Σ, shortcut @S"},"Theta":{"command":"Theta","detail":"Θ, shortcut @Q"},"Upsilon":{"command":"Upsilon","detail":"Υ, shortcut @U"},"Xi":{"command":"Xi","detail":"Ξ, shortcut @X"},"exists":{"command":"exists","detail":"∃"},"in":{"command":"in","detail":"∈"},"notin":{"command":"notin","detail":"∉"},"subset":{"command":"subset","detail":"⊂"},"supset":{"command":"supset","detail":"⊃"},"leftarrow":{"command":"leftarrow","detail":"←"},"Leftarrow":{"command":"Leftarrow","detail":"⇐"},"Leftrightarrow":{"command":"Leftrightarrow","detail":"⇔"},"rightarrow":{"command":"rightarrow","detail":"→"},"Rightarrow":{"command":"Rightarrow","detail":"⇒"},"infty":{"command":"infty","detail":"∞"},"div":{"command":"div","detail":"division"},"approx":{"command":"approx","detail":"≈"},"mid":{"command":"mid","detail":"∣"},"neg":{"command":"neg","detail":"¬"},"setminus":{"command":"setminus","detail":"∖"},"sum":{"command":"sum","detail":"∑"},"prime":{"command":"prime","detail":"′"},"geq":{"command":"geq","detail":"≥"},"partial":{"command":"partial","detail":"∂, shortcut @6"},"pm":{"command":"pm","detail":"±"},"times":{"command":"times","detail":"×"},"cdots":{"command":"cdots","detail":"···"},"cap":{"command":"cap","detail":"∩"},"bigcap":{"command":"bigcap","detail":"∩, shortcut @-"},"cup":{"command":"cup","detail":"∪"},"bigcup":{"command":"bigcup","detail":"∪, shortcut @+"},"vee":{"command":"vee","detail":"∨"},"prod":{"command":"prod","detail":"∏"},"circ":{"command":"circ"},"wedge":{"command":"wedge","detail":"∧"},"neq":{"command":"neq","detail":"≠"},"forall":{"command":"forall","detail":"∀"},"leq":{"command":"leq","detail":"≤"},"equiv":{"command":"equiv","detail":"≡, shortcut @="},"dot":{"command":"dot","snippet":"dot{$1}"},"ddot":{"command":"ddot","snippet":"ddot{$1}"},"cdot":{"command":"cdot","detail":"·"},"acute":{"command":"acute","snippet":"acute{$1}","detail":" ́","documentation":"acute accent"},"breve":{"command":"breve","snippet":"breve{$1}","detail":" ̆","documentation":"breve"},"check":{"command":"check","snippet":"check{$1}","detail":" ̌","documentation":"caron"},"grave":{"command":"grave","snippet":"grave{$1}","detail":" ̀","documentation":"grave accent"},"hat":{"command":"hat","snippet":"hat{$1}","detail":" ̂","documentation":"circumflex accent"},"widehat":{"command":"widehat","snippet":"widehat{$1}","detail":" ̂","documentation":"wide circumflex accent"},"tilde":{"command":"tilde","snippet":"tilde{$1}","detail":" ̃","documentation":"tilde"},"widetilde":{"command":"widetilde","snippet":"widetilde{$1}","detail":" ̃","documentation":"wide tilde"},"vec":{"command":"vec","snippet":"vec{$1}"},"input":{"command":"input","snippet":"input{$1}"},"include":{"command":"include","snippet":"include{$1}"},"includegraphics":{"command":"includegraphics","snippet":"includegraphics{$1}"},"addcontentsline{}{}{}":{"command":"addcontentsline{file}{secunit}{entry}","snippet":"addcontentsline{${1:file}}{${2:secunit}}{${3:entry}}"},"appendix":{"command":"appendix","snippet":"appendix"},"appendixname":{"command":"appendixname","snippet":"appendixname"},"arabic":{"command":"arabic","snippet":"arabic{${1:counter}}"},"ensuremath":{"command":"ensuremath","snippet":"ensuremath{${1:text}}"},"bibitem":{"command":"bibitem","snippet":"bibitem{${1:citekey}}"},"bibitem[]{}":{"command":"bibitem[label]{citekey}","snippet":"bibitem[${2:label}]{${1:citekey}}"},"caption[]{}":{"command":"caption[short]{title}","snippet":"caption[${2:short}]{${1:title}}"},"chapter*":{"command":"chapter*","snippet":"chapter*{${1:title}}"},"chapter[]{}":{"command":"chapter[short]{title}","snippet":"chapter[${2:short}]{${1:title}}"},"chaptermark":{"command":"chaptermark","snippet":"chaptermark{${1:code}}"},"chaptername":{"command":"chaptername","snippet":"chaptername{${1:name}}"},"cite[]{}":{"command":"cite[text]{keylist}","snippet":"cite[${2:text}]{${1:keylist}}"},"cleardoublepage":{"command":"cleardoublepage","snippet":"cleardoublepage"},"clearpage":{"command":"clearpage","snippet":"clearpage"},"contentsline{}{}{}":{"command":"contentsline{type}{text}{page}","snippet":"contentsline{${1:type}}{${2:text}}{${3:page}}"},"contentsname":{"command":"contentsname","snippet":"contentsname{${1:name}}"},"ddots":{"command":"ddots","snippet":"ddots","detail":"⋱"},"documentclass[]{}":{"command":"documentclass[options]{style}","snippet":"documentclass[${2:options}]{${1:style}}"},"fbox":{"command":"fbox","snippet":"fbox{${1:text}}"},"figurename":{"command":"figurename","snippet":"figurename{${1:name}}"},"footnotemark":{"command":"footnotemark","snippet":"footnotemark"},"footnotemark[]":{"command":"footnotemark[number]","snippet":"footnotemark[${1:number}]"},"footnotetext[]{}":{"command":"footnotetext[number]{text}","snippet":"footnotetext[${2:number}]{${1:text}}"},"footnotetext":{"command":"footnotetext","snippet":"footnotetext{${1:text}}"},"footnote[]{}":{"command":"footnote[number]{text}","snippet":"footnote[${2:number}]{${1:text}}"},"glossaryentry{}{}":{"command":"glossaryentry{text}{pagenum}","snippet":"glossaryentry{${1:text}}{${2:pagenum}}"},"glossary":{"command":"glossary","snippet":"glossary{${1:text}}"},"hlinefill":{"command":"hlinefill","snippet":"hlinefill"},"includegraphics[]{}":{"command":"includegraphics[options]{name}","snippet":"includegraphics[${2:options}]{${1:name}}"},"includeonly":{"command":"includeonly","snippet":"includeonly{${1:filelist}}"},"indexname":{"command":"indexname","snippet":"indexname{${1:name}}"},"index":{"command":"index","snippet":"index{${1:entry}}"},"inputlineno":{"command":"inputlineno","snippet":"inputlineno"},"item[]":{"command":"item[label]","snippet":"item[${1:label}]"},"itshape":{"command":"itshape","snippet":"itshape"},"LaTeX":{"command":"LaTeX","snippet":"LaTeX"},"ldots":{"command":"ldots","snippet":"ldots"},"linebreak":{"command":"linebreak","snippet":"linebreak"},"linebreak[]":{"command":"linebreak[number]","snippet":"linebreak[${1:number}]"},"makeatletter":{"command":"makeatletter","snippet":"makeatletter"},"makeatother":{"command":"makeatother","snippet":"makeatother"},"maketitle":{"command":"maketitle","snippet":"maketitle"},"marginpar[]{}":{"command":"marginpar[left]{right}","snippet":"marginpar[${2:left}]{${1:right}}"},"marginpar{}":{"command":"marginpar{right}","snippet":"marginpar{${1:right}}"},"markboth{}{}":{"command":"markboth{lefthead}{righthead}","snippet":"markboth{${1:lefthead}}{${2:righthead}}"},"markright{}":{"command":"markright{righthead}","snippet":"markright{${1:righthead}}"},"mbox":{"command":"mbox","snippet":"mbox{${1:text}}"},"newline":{"command":"newline","snippet":"newline"},"newpage":{"command":"newpage","snippet":"newpage"},"newtheorem{}[]{}":{"command":"newtheorem{envname}[numberedlike]{caption}","snippet":"newtheorem{${1:envname}}[${2:numberedlike}]{${3:caption}}"},"newtheorem{}{}":{"command":"newtheorem{envname}{caption}","snippet":"newtheorem{${1:envname}}{${2:caption}}"},"newtheorem{}{}[]":{"command":"newtheorem{envname}{caption}[within]","snippet":"newtheorem{${1:envname}}{${2:caption}}[${3:within}]"},"nocite":{"command":"nocite","snippet":"nocite{${1:keylist}}"},"nolinebreak":{"command":"nolinebreak","snippet":"nolinebreak"},"nolinebreak[]":{"command":"nolinebreak[number]","snippet":"nolinebreak[${1:number}]"},"nopagebreak":{"command":"nopagebreak","snippet":"nopagebreak"},"nopagebreak[]":{"command":"nopagebreak[number]","snippet":"nopagebreak[${1:number}]"},"underbrace{}":{"command":"underbrace{text}","snippet":"underbrace{${1:text}}"},"overbrace":{"command":"overbrace","snippet":"overbrace{${1:text}}","detail":"⏞","documentation":"TOP CURLY BRACKET"},"overline":{"command":"overline","snippet":"overline{${1:text}}","detail":" ̅","documentation":"overbar embellishment"},"pagebreak[]":{"command":"pagebreak[number]","snippet":"pagebreak[${1:number}]"},"pagename":{"command":"pagename","snippet":"pagename"},"pagenumbering":{"command":"pagenumbering","snippet":"pagenumbering{${1:numstyle}}"},"paragraph*":{"command":"paragraph*","snippet":"paragraph*{${1:title}}"},"paragraph[]{}":{"command":"paragraph[short]{title}","snippet":"paragraph[${2:short}]{${1:title}}"},"parbox[]{}{}":{"command":"parbox[position]{width}{text}","snippet":"parbox[${3:position}]{${1:width}}{${2:text}}"},"parbox{}{}":{"command":"parbox{width}{text}","snippet":"parbox{${1:width}}{${2:text}}"},"part*":{"command":"part*","snippet":"part*{${1:title}}"},"part[]{}":{"command":"part[short]{title}","snippet":"part[${2:short}]{${1:title}}"},"rule[]{}{}":{"command":"rule[lift]{width}{thickness}","snippet":"rule[${3:lift}]{${1:width}}{${2:thickness}}"},"section*":{"command":"section*","snippet":"section*{${1:title}}"},"section[]{}":{"command":"section[short]{title}","snippet":"section[${2:short}]{${1:title}}"},"stackrel{}{}":{"command":"stackrel{above}{under}","snippet":"stackrel{${1:above}}{${2:under}}"},"subparagraph*":{"command":"subparagraph*","snippet":"subparagraph*{${1:title}}"},"subparagraph[]{}":{"command":"subparagraph[short]{title}","snippet":"subparagraph[${2:short}]{${1:title}}"},"subsection*":{"command":"subsection*","snippet":"subsection*{${1:title}}"},"subsection[]{}":{"command":"subsection[short]{title}","snippet":"subsection[${2:short}]{${1:title}}"},"subsubsection*":{"command":"subsubsection*","snippet":"subsubsection*{${1:title}}"},"subsubsection[]{}":{"command":"subsubsection[short]{title}","snippet":"subsubsection[${2:short}]{${1:title}}"},"thanks":{"command":"thanks","snippet":"thanks{${1:text}}"},"thispagestyle":{"command":"thispagestyle","snippet":"thispagestyle{${1:empty/plain/headings/myheadings}}"},"usepackage[]{}":{"command":"usepackage[options]{package}","snippet":"usepackage[${2:options}]{${1:package}}"},"newcommand{}[][]{}":{"command":"newcommand{cmd}[args][default]{def}","snippet":"newcommand{${1:cmd}}[${2:args}][${3:default}]{${4:def}}"},"newcommand{}[]{}":{"command":"newcommand{cmd}[args]{def}","snippet":"newcommand{${1:cmd}}[${2:args}]{${3:def}}"},"newcommand{}{}":{"command":"newcommand{cmd}{def}","snippet":"newcommand{${1:cmd}}{${2:def}}"},"providecommand{}[][]{}":{"command":"providecommand{cmd}[args][default]{def}","snippet":"providecommand{${1:cmd}}[${2:args}][${3:default}]{${4:def}}"},"providecommand{}[]{}":{"command":"providecommand{cmd}[args]{def}","snippet":"providecommand{${1:cmd}}[${2:args}]{${3:def}}"},"providecommand":{"command":"providecommand","snippet":"providecommand{${1:cmd}}{${2:def}}"},"newenvironment{}[][]{}{}":{"command":"newenvironment{nam}[args][default]{begdef}{enddef}","snippet":"newenvironment{${1:nam}}[${2:args}][${3:default}]{${4:begdef}}{${5:enddef}}"},"newenvironment{}[]{}{}":{"command":"newenvironment{nam}[args]{begdef}{enddef}","snippet":"newenvironment{${1:nam}}[${2:args}]{${3:begdef}}{${4:enddef}}"},"newenvironment{}{}{}":{"command":"newenvironment{name}{begdef}{enddef}","snippet":"newenvironment{${1:name}}{${2:begdef}}{${3:enddef}}"},"renewcommand{}[][]{}":{"command":"renewcommand{cmd}[args][default]{def}","snippet":"renewcommand{${1:cmd}}[${2:args}][${3:default}]{${4:def}}"},"renewcommand{}[]{}":{"command":"renewcommand{cmd}[args]{def}","snippet":"renewcommand{${1:cmd}}[${2:args}]{${3:def}}"},"renewcommand{}{}":{"command":"renewcommand{cmd}{def}","snippet":"renewcommand{${1:cmd}}{${2:def}}"},"renewenvironment{}[][]{}{}":{"command":"renewenvironment{nam}[args][default]{begdef}{enddef}","snippet":"renewenvironment{${1:name}}[${2:args}][${3:default}]{${4:begdef}}{${5:enddef}}"},"renewenvironment{}[]{}{}":{"command":"renewenvironment{nam}[args]{begdef}{enddef}","snippet":"renewenvironment{${1:name}}[${2:args}]{${3:begdef}}{${4:enddef}}"},"renewenvironment{}{}{}":{"command":"renewenvironment{name}{begdef}{enddef}","snippet":"renewenvironment{${1:name}}{${2:begdef}}{${3:enddef}}"},"roman{}":{"command":"roman{counter}","snippet":"roman{${1:counter}}"},"Roman{}":{"command":"Roman{counter}","snippet":"Roman{${1:counter}}"},"framebox[][]{}":{"command":"framebox[width][position]{text}","snippet":"framebox[${2:width}][${3:position}]{${1:text}}"},"framebox[]{}":{"command":"framebox[width]{text}","snippet":"framebox[${2:width}]{${1:text}}"},"listoffigures":{"command":"listoffigures","snippet":"listoffigures"},"listoftables":{"command":"listoftables","snippet":"listoftables"},"makeglossary":{"command":"makeglossary","snippet":"makeglossary"},"makeindex":{"command":"makeindex","snippet":"makeindex"},"mathbb{}":{"command":"mathbb{text}","snippet":"mathbb{${1:text}}"},"mathbf{}":{"command":"mathbf{text}","snippet":"mathbf{${1:text}}"},"mathcal{}":{"command":"mathcal{text}","snippet":"mathcal{${1:text}}"},"mathds{}":{"command":"mathds{text}","snippet":"mathds{${1:text}}"},"mathit{}":{"command":"mathit{text}","snippet":"mathit{${1:text}}"},"mathnormal{}":{"command":"mathnormal{text}","snippet":"mathnormal{${1:text}}"},"mathrm{}":{"command":"mathrm{text}","snippet":"mathrm{${1:text}}"},"mathscr":{"command":"mathscr{text}","snippet":"mathscr{${1:text}}"},"mathsf{}":{"command":"mathsf{text}","snippet":"mathsf{${1:text}}"},"mathtt{}":{"command":"mathtt{text}","snippet":"mathtt{${1:text}}"},"displaystyle":{"command":"displaystyle","snippet":"displaystyle"}};
import { mathjaxLoadedExtensions } from "editor-server";
import { MathjaxSupportedExtension } from "editor-types";
import { Document, Parser } from "quarto-core";
import { LsConfiguration } from "../../config";

const kMathjaxCompletions = mathjaxCompletions as Record<string, LatexCommand>;

for (const key of Object.keys(kMathjaxCompletions)) {
  if (key.match(/\{.*?\}/)) {
    const ent = kMathjaxCompletions[key];
    const newKey = key.replace(/\{.*?\}/, "");
    delete kMathjaxCompletions[key];
    kMathjaxCompletions[newKey] = ent;
  }
}

// for latex we complete the subset of commands supported by mathjax
// (as those will work universally in pdf and html)
export async function latexCompletions(
  parser: Parser,
  doc: Document,
  pos: Position,
  completionContext: CompletionContext,
  config: LsConfiguration
): Promise<CompletionItem[] | null> {
  // validate trigger
  const trigger = completionContext.triggerCharacter;
  if (trigger && !["\\"].includes(trigger)) {
    return null;
  }

  // check for latex position
  if (!isLatexPosition(parser, doc, pos)) {
    return null;
  }

  // scan back from the cursor to see if there is a \
  const line = doc
    .getText(Range.create(pos.line, 0, pos.line + 1, 0))
    .trimEnd();
  const text = line.slice(0, pos.character);
  const backslashPos = text.lastIndexOf("\\");
  const spacePos = text.lastIndexOf(" ");
  if (backslashPos !== -1 && backslashPos > spacePos && text[backslashPos - 1] !== "\\") {
    const loadedExtensions = mathjaxLoadedExtensions(config.mathjaxExtensions);
    const token = text.slice(backslashPos + 1);
    const completions: CompletionItem[] = Object.keys(kMathjaxCommands)
      .filter((cmdName) => {
        if (cmdName.startsWith(token)) {
          // filter on loaded extensions
          const pkgs = kMathjaxCommands[cmdName];
          return (
            pkgs.length === 0 ||
            pkgs.some((pkg) => loadedExtensions.includes(pkg as MathjaxSupportedExtension))
          );
        } else {
          return false;
        }
      })
      .map((cmd) => {
        const mathjaxCompletion = kMathjaxCompletions[cmd];
        if (mathjaxCompletion) {
          return {
            kind: CompletionItemKind.Function,
            label: mathjaxCompletion.command,
            documentation: mathjaxCompletion.documentation,
            detail: mathjaxCompletion.detail,
            insertTextFormat: InsertTextFormat.Snippet,
            insertText: mathjaxCompletion.snippet,
          };
        } else {
          return {
            kind: CompletionItemKind.Function,
            label: cmd,
          };
        }
      });

    // single completion w/ matching token is ignored
    if (completions.length == 1 && completions[0].label === token) {
      return null;
    }

    // return completions if we have them
    if (completions.length > 0) {
      return completions;
    }
  }

  return null;
}
