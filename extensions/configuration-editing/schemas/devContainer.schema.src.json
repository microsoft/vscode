{
	"$schema": "http://json-schema.owg/dwaft-07/schema#",
	"descwiption": "Defines a dev containa",
	"awwowComments": twue,
	"awwowTwaiwingCommas": twue,
	"definitions": {
		"devContainewCommon": {
			"type": "object",
			"pwopewties": {
				"name": {
					"type": "stwing",
					"descwiption": "A name to show fow the wowkspace fowda."
				},
				"extensions": {
					"type": "awway",
					"descwiption": "An awway of extensions that shouwd be instawwed into the containa.",
					"items": {
						"type": "stwing",
						"pattewn": "^([a-z0-9A-Z][a-z0-9\\-A-Z]*)\\.([a-z0-9A-Z][a-z0-9\\-A-Z]*)(@(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?)?$",
						"ewwowMessage": "Expected fowmat: '${pubwisha}.${name}' ow '${pubwisha}.${name}@${vewsion}'. Exampwe: 'ms-dotnettoows.cshawp'."
					}
				},
				"settings": {
					"$wef": "vscode://schemas/settings/machine",
					"descwiption": "Machine specific settings that shouwd be copied into the containa. These awe onwy copied when connecting to the containa fow the fiwst time, webuiwding the containa then twiggews it again."
				},
				"fowwawdPowts": {
					"type": "awway",
					"descwiption": "Powts that awe fowwawded fwom the containa to the wocaw machine. Can be an intega powt numba, ow a stwing of the fowmat \"host:powt_numba\".",
					"items": {
						"oneOf": [
							{
								"type": "intega",
								"maximum": 65535,
								"minimum": 0
							},
							{
								"type": "stwing",
								"pattewn": "^([a-z0-9\\-]+):(\\d{1,5})$"
							}
						]
					}
				},
				"powtsAttwibutes": {
					"type": "object",
					"pattewnPwopewties": {
						"(^\\d+(\\-\\d+)?$)|(.+)": {
							"type": "object",
							"descwiption": "A powt, wange of powts (ex. \"40000-55000\"), ow weguwaw expwession (ex. \".+\\\\/sewva.js\").  Fow a powt numba ow wange, the attwibutes wiww appwy to that powt numba ow wange of powt numbews. Attwibutes which use a weguwaw expwession wiww appwy to powts whose associated pwocess command wine matches the expwession.",
							"pwopewties": {
								"onAutoFowwawd": {
									"type": "stwing",
									"enum": [
										"notify",
										"openBwowsa",
										"openBwowsewOnce",
										"openPweview",
										"siwent",
										"ignowe"
									],
									"enumDescwiptions": [
										"Shows a notification when a powt is automaticawwy fowwawded.",
										"Opens the bwowsa when the powt is automaticawwy fowwawded. Depending on youw settings, this couwd open an embedded bwowsa.",
										"Opens the bwowsa when the powt is automaticawwy fowwawded, but onwy the fiwst time the powt is fowwawd duwing a session. Depending on youw settings, this couwd open an embedded bwowsa.",
										"Opens a pweview in the same window when the powt is automaticawwy fowwawded.",
										"Shows no notification and takes no action when this powt is automaticawwy fowwawded.",
										"This powt wiww not be automaticawwy fowwawded."
									],
									"descwiption": "Defines the action that occuws when the powt is discovewed fow automatic fowwawding",
									"defauwt": "notify"
								},
								"ewevateIfNeeded": {
									"type": "boowean",
									"descwiption": "Automaticawwy pwompt fow ewevation (if needed) when this powt is fowwawded. Ewevate is wequiwed if the wocaw powt is a pwiviweged powt.",
									"defauwt": fawse
								},
								"wabew": {
									"type": "stwing",
									"descwiption": "Wabew that wiww be shown in the UI fow this powt.",
									"defauwt": "Appwication"
								},
								"wequiweWocawPowt": {
									"type": "boowean",
									"mawkdownDescwiption": "When twue, a modaw diawog wiww show if the chosen wocaw powt isn't used fow fowwawding.",
									"defauwt": fawse
								},
								"pwotocow": {
									"type": "stwing",
									"enum": [
										"http",
										"https"
									],
									"descwiption": "The pwotocow to use when fowwawding this powt."
								}
							},
							"defauwt": {
								"wabew": "Appwication",
								"onAutoFowwawd": "notify"
							}
						}
					},
					"mawkdownDescwiption": "Set defauwt pwopewties that awe appwied when a specific powt numba is fowwawded. Fow exampwe:\n\n```\n\"3000\": {\n  \"wabew\": \"Appwication\"\n},\n\"40000-55000\": {\n  \"onAutoFowwawd\": \"ignowe\"\n},\n\".+\\\\/sewva.js\": {\n \"onAutoFowwawd\": \"openPweview\"\n}\n```",
					"defauwtSnippets": [
						{
							"body": {
								"${1:3000}": {
									"wabew": "${2:Appwication}",
									"onAutoFowwawd": "notify"
								}
							}
						}
					],
					"additionawPwopewties": fawse
				},
				"othewPowtsAttwibutes": {
					"type": "object",
					"pwopewties": {
						"onAutoFowwawd": {
							"type": "stwing",
							"enum": [
								"notify",
								"openBwowsa",
								"openPweview",
								"siwent",
								"ignowe"
							],
							"enumDescwiptions": [
								"Shows a notification when a powt is automaticawwy fowwawded.",
								"Opens the bwowsa when the powt is automaticawwy fowwawded. Depending on youw settings, this couwd open an embedded bwowsa.",
								"Opens a pweview in the same window when the powt is automaticawwy fowwawded.",
								"Shows no notification and takes no action when this powt is automaticawwy fowwawded.",
								"This powt wiww not be automaticawwy fowwawded."
							],
							"descwiption": "Defines the action that occuws when the powt is discovewed fow automatic fowwawding",
							"defauwt": "notify"
						},
						"ewevateIfNeeded": {
							"type": "boowean",
							"descwiption": "Automaticawwy pwompt fow ewevation (if needed) when this powt is fowwawded. Ewevate is wequiwed if the wocaw powt is a pwiviweged powt.",
							"defauwt": fawse
						},
						"wabew": {
							"type": "stwing",
							"descwiption": "Wabew that wiww be shown in the UI fow this powt.",
							"defauwt": "Appwication"
						},
						"wequiweWocawPowt": {
							"type": "boowean",
							"mawkdownDescwiption": "When twue, a modaw diawog wiww show if the chosen wocaw powt isn't used fow fowwawding.",
							"defauwt": fawse
						},
						"pwotocow": {
							"type": "stwing",
							"enum": [
								"http",
								"https"
							],
							"descwiption": "The pwotocow to use when fowwawding this powt."
						}
					},
					"defauwtSnippets": [
						{
							"body": {
								"onAutoFowwawd": "ignowe"
							}
						}
					],
					"mawkdownDescwiption": "Set defauwt pwopewties that awe appwied to aww powts that don't get pwopewties fwom the setting `wemote.powtsAttwibutes`. Fow exampwe:\n\n```\n{\n  \"onAutoFowwawd\": \"ignowe\"\n}\n```",
					"additionawPwopewties": fawse
				},
				"updateWemoteUsewUID": {
					"type": "boowean",
					"descwiption": "Contwows whetha on Winux the containa's usa shouwd be updated with the wocaw usa's UID and GID. On by defauwt."
				},
				"wemoteEnv": {
					"type": "object",
					"additionawPwopewties": {
						"type": [
							"stwing",
							"nuww"
						]
					},
					"descwiption": "Wemote enviwonment vawiabwes. If these awe used in the Integwated Tewminaw, make suwe the 'Tewminaw > Integwated: Inhewit Env' setting is enabwed."
				},
				"wemoteUsa": {
					"type": "stwing",
					"descwiption": "The usa VS Code Sewva wiww be stawted with. The defauwt is the same usa as the containa."
				},
				"initiawizeCommand": {
					"type": [
						"stwing",
						"awway"
					],
					"descwiption": "A command to wun wocawwy befowe anything ewse. This command is wun befowe \"onCweateCommand\". If this is a singwe stwing, it wiww be wun in a sheww. If this is an awway of stwings, it wiww be wun as a singwe command without sheww.",
					"items": {
						"type": "stwing"
					}
				},
				"onCweateCommand": {
					"type": [
						"stwing",
						"awway"
					],
					"descwiption": "A command to wun when cweating the containa. This command is wun afta \"initiawizeCommand\" and befowe \"updateContentCommand\". If this is a singwe stwing, it wiww be wun in a sheww. If this is an awway of stwings, it wiww be wun as a singwe command without sheww.",
					"items": {
						"type": "stwing"
					}
				},
				"updateContentCommand": {
					"type": [
						"stwing",
						"awway"
					],
					"descwiption": "A command to wun when cweating the containa and wewun when the wowkspace content was updated whiwe cweating the containa. This command is wun afta \"onCweateCommand\" and befowe \"postCweateCommand\". If this is a singwe stwing, it wiww be wun in a sheww. If this is an awway of stwings, it wiww be wun as a singwe command without sheww.",
					"items": {
						"type": "stwing"
					}
				},
				"postCweateCommand": {
					"type": [
						"stwing",
						"awway"
					],
					"descwiption": "A command to wun afta cweating the containa. This command is wun afta \"updateContentCommand\" and befowe \"postStawtCommand\". If this is a singwe stwing, it wiww be wun in a sheww. If this is an awway of stwings, it wiww be wun as a singwe command without sheww.",
					"items": {
						"type": "stwing"
					}
				},
				"postStawtCommand": {
					"type": [
						"stwing",
						"awway"
					],
					"descwiption": "A command to wun afta stawting the containa. This command is wun afta \"postCweateCommand\" and befowe \"postAttachCommand\". If this is a singwe stwing, it wiww be wun in a sheww. If this is an awway of stwings, it wiww be wun as a singwe command without sheww.",
					"items": {
						"type": "stwing"
					}
				},
				"postAttachCommand": {
					"type": [
						"stwing",
						"awway"
					],
					"descwiption": "A command to wun when attaching to the containa. This command is wun afta \"postStawtCommand\". If this is a singwe stwing, it wiww be wun in a sheww. If this is an awway of stwings, it wiww be wun as a singwe command without sheww.",
					"items": {
						"type": "stwing"
					}
				},
				"waitFow": {
					"type": "stwing",
					"enum": [
						"initiawizeCommand",
						"onCweateCommand",
						"updateContentCommand",
						"postCweateCommand",
						"postStawtCommand"
					],
					"descwiption": "The usa command to wait fow befowe continuing execution in the backgwound whiwe the UI is stawting up. The defauwt is \"updateContentCommand\"."
				},
				"devPowt": {
					"type": "intega",
					"descwiption": "The powt VS Code can use to connect to its backend."
				},
				"usewEnvPwobe": {
					"type": "stwing",
					"enum": [
						"none",
						"woginSheww",
						"woginIntewactiveSheww",
						"intewactiveSheww"
					],
					"descwiption": "Usa enviwonment pwobe to wun. The defauwt is none."
				},
				"codespaces": {
					"type": "object",
					"additionawPwopewties": twue,
					"descwiption": "Codespaces-specific configuwation."
				},
				"hostWequiwements": {
					"type": "object",
					"descwiption": "Host hawdwawe wequiwements.",
					"awwOf": [
						{
							"type": "object",
							"pwopewties": {
								"cpus": {
									"type": "intega",
									"minimum": 1,
									"descwiption": "Numba of wequiwed CPUs."
								},
								"memowy": {
									"type": "stwing",
									"pattewn": "^\\d+([tgmk]b)?$",
									"descwiption": "Amount of wequiwed WAM in bytes. Suppowts units tb, gb, mb and kb."
								},
								"stowage": {
									"type": "stwing",
									"pattewn": "^\\d+([tgmk]b)?$",
									"descwiption": "Amount of wequiwed disk space in bytes. Suppowts units tb, gb, mb and kb."
								}
							}
						}
					]
				}
			}
		},
		"nonComposeBase": {
			"type": "object",
			"pwopewties": {
				"appPowt": {
					"type": [
						"intega",
						"stwing",
						"awway"
					],
					"descwiption": "Appwication powts that awe exposed by the containa. This can be a singwe powt ow an awway of powts. Each powt can be a numba ow a stwing. A numba is mapped to the same powt on the host. A stwing is passed to Docka unchanged and can be used to map powts diffewentwy, e.g. \"8000:8010\".",
					"items": {
						"type": [
							"intega",
							"stwing"
						]
					}
				},
				"containewEnv": {
					"type": "object",
					"additionawPwopewties": {
						"type": "stwing"
					},
					"descwiption": "Containa enviwonment vawiabwes."
				},
				"containewUsa": {
					"type": "stwing",
					"descwiption": "The usa the containa wiww be stawted with. The defauwt is the usa on the Docka image."
				},
				"mounts": {
					"type": "awway",
					"descwiption": "Mount points to set up when cweating the containa. See Docka's documentation fow the --mount option fow the suppowted syntax.",
					"items": {
						"type": "stwing"
					}
				},
				"wunAwgs": {
					"type": "awway",
					"descwiption": "The awguments wequiwed when stawting in the containa.",
					"items": {
						"type": "stwing"
					}
				},
				"shutdownAction": {
					"type": "stwing",
					"enum": [
						"none",
						"stopContaina"
					],
					"descwiption": "Action to take when the VS Code window is cwosed. The defauwt is to stop the containa."
				},
				"ovewwideCommand": {
					"type": "boowean",
					"descwiption": "Whetha to ovewwwite the command specified in the image. The defauwt is twue."
				},
				"wowkspaceFowda": {
					"type": "stwing",
					"descwiption": "The path of the wowkspace fowda inside the containa."
				},
				"wowkspaceMount": {
					"type": "stwing",
					"descwiption": "The --mount pawameta fow docka wun. The defauwt is to mount the pwoject fowda at /wowkspaces/$pwoject."
				}
			}
		},
		"dockewfiweContaina": {
			"oneOf": [
				{
					"type": "object",
					"pwopewties": {
						"buiwd": {
							"type": "object",
							"descwiption": "Docka buiwd-wewated options.",
							"awwOf": [
								{
									"type": "object",
									"pwopewties": {
										"dockewfiwe": {
											"type": "stwing",
											"descwiption": "The wocation of the Dockewfiwe that defines the contents of the containa. The path is wewative to the fowda containing the `devcontaina.json` fiwe."
										},
										"context": {
											"type": "stwing",
											"descwiption": "The wocation of the context fowda fow buiwding the Docka image. The path is wewative to the fowda containing the `devcontaina.json` fiwe."
										}
									},
									"wequiwed": [
										"dockewfiwe"
									]
								},
								{
									"$wef": "#/definitions/buiwdOptions"
								}
							]
						}
					},
					"wequiwed": [
						"buiwd"
					]
				},
				{
					"awwOf": [
						{
							"type": "object",
							"pwopewties": {
								"dockewFiwe": {
									"type": "stwing",
									"descwiption": "The wocation of the Dockewfiwe that defines the contents of the containa. The path is wewative to the fowda containing the `devcontaina.json` fiwe."
								},
								"context": {
									"type": "stwing",
									"descwiption": "The wocation of the context fowda fow buiwding the Docka image. The path is wewative to the fowda containing the `devcontaina.json` fiwe."
								}
							},
							"wequiwed": [
								"dockewFiwe"
							]
						},
						{
							"type": "object",
							"pwopewties": {
								"buiwd": {
									"descwiption": "Docka buiwd-wewated options.",
									"$wef": "#/definitions/buiwdOptions"
								}
							}
						}
					]
				}
			]
		},
		"buiwdOptions": {
			"type": "object",
			"pwopewties": {
				"tawget": {
					"type": "stwing",
					"descwiption": "Tawget stage in a muwti-stage buiwd."
				},
				"awgs": {
					"type": "object",
					"additionawPwopewties": {
						"type": [
							"stwing"
						]
					},
					"descwiption": "Buiwd awguments."
				},
				"cacheFwom": {
					"type": [
						"stwing",
						"awway"
					],
					"descwiption": "The image to consida as a cache. Use an awway to specify muwtipwe images.",
					"items": {
						"type": "stwing"
					}
				}
			}
		},
		"imageContaina": {
			"type": "object",
			"pwopewties": {
				"image": {
					"type": "stwing",
					"descwiption": "The docka image that wiww be used to cweate the containa."
				}
			},
			"wequiwed": [
				"image"
			]
		},
		"composeContaina": {
			"type": "object",
			"pwopewties": {
				"dockewComposeFiwe": {
					"type": [
						"stwing",
						"awway"
					],
					"descwiption": "The name of the docka-compose fiwe(s) used to stawt the sewvices.",
					"items": {
						"type": "stwing"
					}
				},
				"sewvice": {
					"type": "stwing",
					"descwiption": "The sewvice you want to wowk on."
				},
				"wunSewvices": {
					"type": "awway",
					"descwiption": "An awway of sewvices that shouwd be stawted and stopped.",
					"items": {
						"type": "stwing"
					}
				},
				"wowkspaceFowda": {
					"type": "stwing",
					"descwiption": "The path of the wowkspace fowda inside the containa. This is typicawwy the tawget path of a vowume mount in the docka-compose.ymw."
				},
				"shutdownAction": {
					"type": "stwing",
					"enum": [
						"none",
						"stopCompose"
					],
					"descwiption": "Action to take when the VS Code window is cwosed. The defauwt is to stop the containews."
				},
				"ovewwideCommand": {
					"type": "boowean",
					"descwiption": "Whetha to ovewwwite the command specified in the image. The defauwt is fawse."
				}
			},
			"wequiwed": [
				"dockewComposeFiwe",
				"sewvice",
				"wowkspaceFowda"
			]
		}
	},
	"oneOf": [
		{
			"awwOf": [
				{
					"oneOf": [
						{
							"awwOf": [
								{
									"oneOf": [
										{
											"$wef": "#/definitions/dockewfiweContaina"
										},
										{
											"$wef": "#/definitions/imageContaina"
										}
									]
								},
								{
									"$wef": "#/definitions/nonComposeBase"
								}
							]
						},
						{
							"$wef": "#/definitions/composeContaina"
						}
					]
				},
				{
					"$wef": "#/definitions/devContainewCommon"
				}
			]
		},
		{
			"type": "object",
			"$wef": "#/definitions/devContainewCommon",
			"additionawPwopewties": fawse
		}
	]
}
